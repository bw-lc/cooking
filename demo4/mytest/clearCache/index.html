<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <title>清除缓存</title>
    <script src="/cordova.js"></script>
  </head>
  <body>
    <table>
      <tr><td><font size="5">清除缓存</font></td></tr>
    </table>

      <div class="statusText">欢迎</div>

    <table border="1">
      <tr>
        <td>清除缓存</td>
        <td><button onclick=clearClick();>清除缓存</button></td>
      </tr>
      <tr>
        <td>后退</td>
        <td><button onclick="javascript:history.go(-1);">后退</button></td>
      </tr>
    </table>

      <div class="statusText2"></div>

  </body>

  <script>
require("cordova!cordova-plugin-ble-central");
require("cordova!at.modalog.cordova.plugin.cache");

var cb_statusText = document.getElementsByClassName('statusText');
function showinfo(str) {
  cb_statusText[0].innerHTML = str;
}
function cb_showinfo_none() {
  cb_statusText[0].innerHTML = '^_^';
}

var cb_statusText2 = document.getElementsByClassName('statusText2');
function showinfo2(str) {
  cb_statusText2[0].innerHTML = str;
}

function errCallBack(status) {
  showinfo("失败：" + status);
}

function successCallBack(status) {
  showinfo("信息：" + status);
  setTimeout("cb_showinfo_none()", 2000);
}

function clearClick() {
  document.addEventListener('deviceready', onDeviceReady);
  function onDeviceReady() {
    window.cache.clear(successCallBack, errCallBack);
  }
}

  </script>

</html>
